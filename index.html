<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8"/>
	<title>Orbital Planet Defender</title>
	<link rel="stylesheet" href="../Canvasloth/canvasloth.css"/>
	<script src="../Canvasloth/canvasloth.js"></script>
	<script src="../Canvasloth/canvasloth-sprite.js"></script>
	<!--<script src="../jquery.js"></script>-->
	<script src="opd/opd.js"></script>
	<script src="opd/space/space.js"></script>
	<script src="opd/earth/earth.js"></script>
	<script src="opd/ship/ship.js"></script>
	<style>
	body {
		background: #111;
		}
	.canvasloth {
		width: 800px;
		height: 600px;
		margin: 30px auto;
		}
		canvas {
			background: rgb(0,0,0);
			}
		.canvasloth-hud-below {
			font: 11px/14px sans-serif;
			}
			.canvasloth-hud-below .console {
				position: absolute;
				overflow: hidden;
				width: 200px;
				left: 0;
				top: 0;
				bottom: 0;
				border-right: 1px dashed rgba(255,255,255,.5);
				padding: .2em .3em;
				color: rgba(200,200,200,.8);
				background: rgba(0,0,0,.92);
				}
				.canvasloth-hud-below .console b {
					color: rgba(200,200,200);
					}
		.canvasloth-hud-above {
			}
	</style>
	<script>
	function lg(s) { console.log(s); }
	if (!window.$)
		$ = {
			sqr: function(n) {
				return n * n;
			},
			each: function(ar, fn) {
				for (var i = 0; i < ar.length; ++i)
					fn.call(ar[i], i);
			}
		};

	function main() {
		new Canvasloth({
			container: document.querySelector('.canvasloth'),
			context: '2d',
			// autoFocus: true,
			fps: 5,
			fps: 60,
			thisApp: opd,
			ready: function(cnv, ctx) {
				this.cnv = cnv;
				this.ctx = ctx;
				this.w = ctx.canvas.width;
				this.h = ctx.canvas.height;
				this.space.init(cnv, ctx);
				this.earth.init(cnv, ctx);
				this.ship.init(cnv, ctx);
			},
			loop: function() {
				this.render();
			},
			events: {
				mouseDown: function(x, y, btn) {
				},
				mouseUp: function(x, y, btn) {
				},
				mouseMove: function(x, y) {
					x -= this.w / 2;
					y -= this.h / 2;
				}
			}
		});
	}

	// $(main);
	window.onload = main;
	</script>
</head>
<body>
	<div class="canvasloth">
		<div class="canvasloth-assets">
			<img src="opd/space/spSpace.jpg"/>
			<img src="opd/earth/spEarth.png"/>
			<img src="opd/earth/spShadow.png"/>
			<img src="opd/ship/spShip.png"/>
		</div>
		<div class="canvasloth-hud-below">
		</div>
		<div class="canvasloth-hud-above">
		</div>
	</div>
</body>
</html>
